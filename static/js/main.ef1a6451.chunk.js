(this.webpackJsonpplayground=this.webpackJsonpplayground||[]).push([[1],{307:function(e,t,r){e.exports=r(390)},390:function(e,t,r){"use strict";r.r(t);var n=r(94),a=r(29),o=r.n(a),i=r(299),c=r.n(i),s=r(61),u=r(25),l=r.n(u),f=r(35),p=r(122),h=r(14),d=r(19),v=r(44),b=r(84),m=r(62);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k,w=/\.d\.ts$/;function x(e){var t="@"===e.name.charAt(0)?e.name.slice(1).replace("/","__"):e.name,r="*";if(e.version){var n=e.version.split(".")[0];r="".concat(n,".x")}return{name:"@types/".concat(t),range:r}}!function(e){e.Directory="directory",e.File="file"}(k||(k={}));var j=function(){function e(t,r){Object(h.a)(this,e),this.resolver=t,this.resolveBareModule=r,this._onTypeFile=new b.d}return Object(d.a)(e,[{key:"_importAdjacentTypings",value:function(e,t,r){var n=this,a=m.g.join(r,"node_modules/".concat(t.name,"/"));return t.name?this._listFiles(t.name,t.version).then((function(r){var o=!1,i=[],c=m.g.resolve("/",t.main||"index.js"),s=function(r){if(c!==r&&!w.test(r))return"continue";i.push(n.resolver.host.readFileContent(n.resolver,n.resolveBareModule(n.resolver.host,{name:t.name,nameSpec:"".concat(t.name,"@").concat(t.version),pathname:r,spec:t.version})).then((function(t){var i=n.resolver.decoder.decode(t),s=m.g.join(a,r);e[s]=i,n._onTypeFile.fire({pathname:s,content:i}),c!==r&&(o=!0)}),(function(e){console.warn(e)})))};for(var u in r)s(u);return i.length?Promise.all(i).then((function(){return o})):o})):Promise.resolve(!1)}},{key:"_importTypingsFromDefinitelyTyped",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r,n){var a,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.name){e.next=2;break}return e.abrupt("return",void 0);case 2:return a=x({name:r.name,version:r.version}),e.prev=3,e.next=6,this._import(t,a.name,a.range,n);case 6:if(!(o=e.sent).dependencies){e.next=15;break}e.t0=l.a.keys(o.dependencies);case 9:if((e.t1=e.t0()).done){e.next=15;break}return i=e.t1.value,e.next=13,this._import(t,i,o.dependencies[i],n);case 13:e.next=9;break;case 15:e.next=20;break;case 17:return e.prev=17,e.t2=e.catch(3),e.abrupt("return",void 0);case 20:case"end":return e.stop()}}),e,this,[[3,17]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_listFiles",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n,a,o,i,c,s,u,f,p,h,d,v,b,g=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.length>1&&void 0!==g[1]?g[1]:"latest",e.next=3,this.resolver.host.getCanonicalUrl(this.resolver,this.resolveBareModule(this.resolver.host,{name:t,spec:r,nameSpec:"".concat(t,"@").concat(r),pathname:"/"}));case 3:return n=e.sent,e.next=6,this.resolver.host.getCanonicalUrl(this.resolver,n);case 6:a=e.sent,o={},i=[a];case 9:if(!i.length){e.next=35;break}return c=i.shift(),e.next=13,this.resolver.host.listEntries(this.resolver,c);case 13:for(s=e.sent,u=!0,f=!1,p=void 0,e.prev=17,h=s[Symbol.iterator]();!(u=(d=h.next()).done);u=!0)(v=d.value).type===m.e.Directory?i.push(v.url):(b=v.url.href.slice(a.href.length-1),o[b]={type:k.File,path:b});e.next=25;break;case 21:e.prev=21,e.t0=e.catch(17),f=!0,p=e.t0;case 25:e.prev=25,e.prev=26,u||null==h.return||h.return();case 28:if(e.prev=28,!f){e.next=31;break}throw p;case 31:return e.finish(28);case 32:return e.finish(25);case 33:e.next=9;break;case 35:return e.abrupt("return",o);case 36:case"end":return e.stop()}}),e,this,[[17,21,25,33],[26,,28,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_import",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r,n){var a,o,i,c,s,u,f=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>3&&void 0!==f[3]?f[3]:"",o=m.g.join(a,"node_modules",r,"package.json"),i=this.resolveBareModule(this.resolver.host,{name:r,spec:n,nameSpec:"".concat(r,"@").concat(n),pathname:"/package.json"}),e.next=5,this.resolver.readParentPackageJson(i);case 5:if(c=e.sent){e.next=8;break}throw new Error("Unable to load package.json for ".concat(r,"@").concat(n));case 8:return s=JSON.stringify(c.packageJson),u=c.packageJson.name||r,t[o]=s,this._onTypeFile.fire({pathname:o,content:s}),e.prev=12,e.next=15,this._importAdjacentTypings(t,c.packageJson,a);case 15:if(e.sent||0===u.indexOf("@types/")){e.next=19;break}return e.next=19,this._importTypingsFromDefinitelyTyped(t,c.packageJson,a);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(12),console.error("error",e.t0);case 24:return e.abrupt("return",c.packageJson);case 25:case"end":return e.stop()}}),e,this,[[12,21]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"importTypesForSpec",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n,a,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:"latest",n=o.length>2&&void 0!==o[2]?o[2]:"",a={},e.prev=3,e.next=6,this._import(a,t,r,n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.warn(e.t0,"Type acquisition failed for ".concat(t,"@").concat(r));case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"importTypesForSpecs",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n,a,o=this,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:"",!(n=Object.keys(t).map((function(e){return o.importTypesForSpec(e,t[e],r)}))).length){e.next=8;break}return e.next=5,Promise.all(n);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=[];case 9:return a=e.t0,e.abrupt("return",a.reduce((function(e,t){return y({},e,{},t)}),{}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTypeFile",get:function(){return this._onTypeFile.event}}]),e}(),O=r(39),E=r(27),S=r(112),C=r(38),R=r(113),U=r(99),M=r(134),D=r(291),P=r(301),A=r(302),N=r(189);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=/^[./]|^[a-z_-]+:/,L=/^((@[^/]+\/[^/@]+|[^./@][^/@]*)(?:@([^/]+))?)(.*)?$/,I=function(){function e(){var t=this;Object(h.a)(this,e),this.internalState="pending",this.promise=new Promise((function(e,r){t.promiseResolve=e,t.promiseReject=r}))}return Object(d.a)(e,[{key:"resolve",value:function(e){this.internalState="resolved",this.promiseResolve(e)}},{key:"reject",value:function(e){this.internalState="rejected",this.promiseReject(e)}},{key:"isSettled",get:function(){return"pending"!==this.internalState}},{key:"state",get:function(){return this.internalState}}]),e}();function J(e){return!q.test(e)}function B(e){var t=function(e){var t=e.match(L);if(t)return{nameSpec:t[1],name:t[2],spec:t[3]||"",pathname:t[4]||""}}(e);if(!t)throw new Error("Unable to parse unexpected unpkg url: '".concat(e,"'"));return t}function W(e){for(var t,r=/(?:\/\/[@#][\s]*(?:source)MappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*(?:source)MappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/gm,n=null;t=r.exec(e);)n=t;if(n)return n[1]}function H(e,t,r){!function e(t,r,n,a,o,i,c){if(!t)return;t.parent=r;if(a){var s=_;_=!1,a.call(V,t,r,n,i,c);var u=_;if(_=s,u)return}var l=K[t.type]||(K[t.type]=Object.keys(t).filter((function(e){return"parent"!==e&&"object"===typeof t[e]})));for(var f=0;f<l.length;f++){var p=l[f],h=t[p];if(Array.isArray(h))for(var d=0;d<h.length;d++)e(h[d],t,n,a,o,p,d);else h&&h.type&&e(h,t,n,a,o,p)}o&&o(t,r,n,i,c)}(e,null,t,r.enter,r.leave)}var _=!1,V={skip:function(){return _=!0}},K={};function $(e){return"ArrowFunctionExpression"===e.type}function z(e){return"FunctionDeclaration"===e.type}function G(e){return"FunctionExpression"===e.type}function X(e){return"Identifier"===e.type}function Y(e){return"MemberExpression"===e.type}function Q(e){return"number"===typeof e.start&&"number"===typeof e.end}function Z(e){return function(e){return"Literal"===e.type}(e)&&"string"===typeof e.value}function ee(e,t){var r,n,a={unboundSymbols:new Map,locals:new Map,nodeEnv:"development",replacements:[],requires:[],requireResolves:[],skip:new Set};try{var o=(r=t.original,n={onComment:function(e,r,n,a){t.remove(n,a)},onToken:function(e){t.addSourcemapLocation(e.start)}},Object(P.a)(r,T({},n,{allowReturnOutsideFunction:!0,sourceType:"script"})));H(o,a,te),H(o,a,re)}catch(D){throw new Error("Error parsing ".concat(e,": ").concat(D.message))}var i=[],c=!0,u=!1,l=void 0;try{for(var f,p=a.requires[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var h=f.value;i.push({callee:T({},h.callee),spec:T({},h.spec)})}}catch(D){u=!0,l=D}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}var d=[],v=!0,b=!1,m=void 0;try{for(var g,y=a.requireResolves[Symbol.iterator]();!(v=(g=y.next()).done);v=!0){var k=g.value;d.push({callee:T({},k.callee),spec:T({},k.spec)})}}catch(D){b=!0,m=D}finally{try{v||null==y.return||y.return()}finally{if(b)throw m}}var w=new Map,x=!0,j=!1,O=void 0;try{for(var E,S=a.unboundSymbols[Symbol.iterator]();!(x=(E=S.next()).done);x=!0){var C=E.value,R=Object(s.a)(C,2),U=R[0],M=R[1];w.set(U,M.map((function(e){return{start:e.start,end:e.end}})))}}catch(D){j=!0,O=D}finally{try{x||null==S.return||S.return()}finally{if(j)throw O}}return{requireDependencies:i,requireResolveDependencies:d,unboundSymbols:w}}var te={enter:function(e,t,r){if(r.skip.has(e))return this.skip();!function(e,t,r){if(function(e){return"VariableDeclaration"===e.type}(e)){for(var n,a=e.parent;a;){if("var"===e.kind?oe(a):ie(a)){n=a;break}a=a.parent}if(!n)throw new Error("Invariant violation: Failed to find a parent");var o=r.locals.get(n);o||(o={},r.locals.set(n,o));var i=!0,c=!1,s=void 0;try{for(var u,l=e.declarations[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){ae(u.value.id,o)}}catch(y){c=!0,s=y}finally{try{i||null==l.return||l.return()}finally{if(c)throw s}}}else if(z(e)){var f,p=e.parent;for(p&&p.parent&&(p=p.parent);p;){if(oe(p)){f=p;break}p=p.parent}if(!f)throw new Error("Invariant violation: Failed to find a parent");var h=r.locals.get(f);h||(h={},r.locals.set(f,h)),ne(e,h)}else if(function(e){return z(e)||G(e)||$(e)}(e)){var d=r.locals.get(e);d||(d={},r.locals.set(e,d)),ne(e,d)}else if(function(e){return"ClassDeclaration"===e.type}(e)&&e.id){var v,b=e.parent;for(b&&b.parent&&(b=b.parent);b;){if(oe(b)){v=b;break}b=b.parent}if(!v)throw new Error("Invariant violation: Failed to find a parent");var m=r.locals.get(v);m||(m={},r.locals.set(v,m)),m[e.id.name]=!0}else if(function(e){return"TryStatement"===e.type}(e)&&e.handler){var g=r.locals.get(e.handler);g||(g={},r.locals.set(e.handler,g)),ae(e.handler.param,g)}}(e,0,r),function(e,t,r){if(function(e){return"IfStatement"===e.type}(e)&&function(e){return"BinaryExpression"===e.type}(e.test)){var n={"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"==":function(e,t){return e==t},"===":function(e,t){return e===t}}[e.test.operator];n&&(Z(e.test.left)&&Y(e.test.right)&&ue(e.test.right,"process.env.NODE_ENV")?(r.replacements.push({start:e.test.right.start,end:e.test.right.end,replacement:JSON.stringify(r.nodeEnv)}),n(e.test.left.value,r.nodeEnv)?e.alternate&&r.skip.add(e.alternate):r.skip.add(e.consequent)):Z(e.test.right)&&Y(e.test.left)&&ue(e.test.left,"process.env.NODE_ENV")&&(r.replacements.push({start:e.test.left.start,end:e.test.left.end,replacement:JSON.stringify(r.nodeEnv)}),n(e.test.right.value,r.nodeEnv)?e.alternate&&r.skip.add(e.alternate):r.skip.add(e.consequent)))}}(e,0,r),function(e,t,r){if(function(e){return"CallExpression"===e.type}(e)&&Q(e.callee)){var n=e.callee;if(X(n)&&Q(n)&&"require"===n.name){var a=e.arguments[0];Z(a)&&Q(a)?r.requires.push({spec:{start:a.start,end:a.end,value:a.value},callee:{start:n.start,end:n.end}}):console.warn("Non string-literal first arg to require",a)}else if(Y(n)&&X(n.object)&&"require"===n.object.name&&X(n.property)&&"resolve"===n.property.name){var o=e.arguments[0];Z(o)&&Q(o)?r.requireResolves.push({spec:{start:o.start,end:o.end,value:o.value},callee:{start:n.start,end:n.end}}):console.warn("Non string-literal first arg to require.resolve",o)}}}(e,0,r)}},re={enter:function(e,t,r){if(function(e){return X(e)&&!function(e){return e.parent&&Y(e.parent)&&e.parent.object!==e}(e)&&!function(e){return e.parent&&function(e){return"Property"===e.type}(e.parent)&&e.parent.key===e}(e)}(e)&&X(e)){var n=e.name;if("undefined"===n)return;for(var a=!1,o=e.parent;o;){if("arguments"===n&&ce(o)){a=!0;break}var i=r.locals.get(o);if(i&&i[n]){a=!0;break}o=o.parent}if(!a&&Q(e)){var c=r.unboundSymbols.get(n);c||(c=[],r.unboundSymbols.set(n,c)),c.push(e)}}else if(function(e){return"ThisExpression"===e.type}(e)){for(var s=!1,u=e.parent;u;){if(se(u)){s=!0;break}u=u.parent}if(!s&&Q(e)){var l=r.unboundSymbols.get("this");l||(l=[],r.unboundSymbols.set("this",l)),l.push(e)}}}};function ne(e,t){e.params.forEach((function(e){ae(e,t)})),e.id&&(t[e.id.name]=!0)}function ae(e,t){if(X(e))t[e.name]=!0;else if(function(e){return"ObjectPattern"===e.type}(e))e.properties.forEach((function(e){return ae(e.value,t)}));else if(function(e){return"ArrayPattern"===e.type}(e))e.elements.forEach((function(e){return e&&ae(e,t)}));else if(function(e){return"RestElement"===e.type}(e))ae(e.argument,t);else{if(!function(e){return"AssignmentPattern"===e.type}(e))throw new Error("Invariant violation: Unexpected pattern type: ".concat(e.type));ae(e.left,t)}}function oe(e){return z(e)||G(e)||$(e)||function(e){return"Program"===e.type}(e)}function ie(e){return function(e){return"BlockStatement"===e.type}(e)||oe(e)}function ce(e){return z(e)||G(e)}function se(e){return z(e)||G(e)}function ue(e,t){var r=t.split(".");if(r.length<2)return!1;for(var n=r.shift(),a=r.shift(),o=r.length-1;o>=0;o--){if(!X(e.property)||e.property.name!==r[o])return!1;if(!Y(e.object))return!1;e=e.object}return!(!X(e.object)||!X(e.property))&&(e.object.name===n&&e.property.name===a)}var le,fe,pe=function(){function e(t,r){Object(h.a)(this,e),this.href=t,this.rootHref=r,this.dependencies=[],this.unresolvedDependencies={},this.deps=new Map}return Object(d.a)(e,[{key:"setCode",value:function(e){this.magicString=new D.b(e,{filename:this.href,indentExclusionRanges:[]}),this.sourceMappingUrl=W(e);var t=function(e){if(e.href.endsWith(".json"))return{parse:function(e,t){return t.prepend("module.exports = "),{requireDependencies:[],requireResolveDependencies:[],unboundSymbols:new Map}}};return{parse:ee}}(this).parse(this.href,this.magicString);this.unresolvedDependencies.requireDependencies=t.requireDependencies,this.unresolvedDependencies.requireResolveDependencies=t.requireResolveDependencies,this.unresolvedDependencies.unboundSymbols=t.unboundSymbols}},{key:"toJSON",value:function(){return{href:this.href,rootHref:this.rootHref,dependencies:this.dependencies,sourceMappingUrl:this.sourceMappingUrl,code:this.magicString?this.magicString.original:""}}}],[{key:"fromJSON",value:function(t){var r,n=new e(t.href,t.rootHref);return(r=n.dependencies).push.apply(r,Object(U.a)(t.dependencies)),n.sourceMappingUrl=t.sourceMappingUrl,n.setCode(t.code),n}}]),e}();fe=pe||(pe={}),(le=fe.DependencyKind||(fe.DependencyKind={})).Require="require",le.RequireResolve="require.resolve",le.InjectedGlobal="injected_global";var he=["assert","buffer","constants","crypto","events","fs","http","https","net","os","path","process","querystring","stream","tls","url","util","vm","zlib"].reduce((function(e,t){return Object.assign(e,Object(p.a)({},t,"@velcro/node-libs@".concat("0.18.0","/lib/").concat(t,".js")))}),{});he.string_decoder="string_decoder@1.2.0",he.punycode="punycode@2.1.1";var de=function(){var e=Object(f.a)(l.a.mark((function e(t,r,n){var a,o,i,c,s,u,f,p,h,d,v,b,m,g,y,k=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=k.length>3&&void 0!==k[3]?k[3]:{},o=a.token,i=B(r),c={bareModule:{},resolvedUrl:void 0},s=void 0,u=void 0,!i.spec){e.next=9;break}s=i.nameSpec,e.next=21;break;case 9:if(!n){e.next=21;break}e.prev=10,f=new URL(n),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(10),new Error("Error loading bare module ".concat(r," because the parent module ").concat(n," could not be resolved to a URL"));case 17:return e.next=19,t.readParentPackageJson(f,{token:o});case 19:(p=e.sent)&&(h=T({},p.packageJson.peerDependencies||{},{},p.packageJson.devDependencies||{},{},p.packageJson.dependencies||{}),c.bareModule.versionSpec=h[i.name],c.bareModule.versionSpec&&(s="".concat(i.name,"@").concat(c.bareModule.versionSpec)));case 21:if(s?(s="".concat("https://unpkg.com/").concat(s),u="".concat(s).concat(i.pathname)):n?(d=he[r])&&(v=B(d),s="".concat("https://unpkg.com/").concat(v.nameSpec),u="".concat(s).concat(v.pathname),c.bareModule.isBuiltIn=!0):(s="".concat("https://unpkg.com/").concat(i.nameSpec),u="".concat(s).concat(i.pathname)),!u||!s){e.next=33;break}return b=new URL(u),m=new URL(s),e.next=27,t.resolve(b,{token:o});case 27:g=e.sent,c.ignored=g.ignored,c.stableRootUrl=m,c.stableUrl=b,g.resolvedUrl&&(c.resolvedUrl=g.resolvedUrl),c.rootUrl=g.rootUrl;case 33:if(!c.resolvedUrl){e.next=38;break}return e.next=36,t.readParentPackageJson(c.resolvedUrl,{token:o});case 36:(y=e.sent)&&(c.bareModule.version=y.packageJson.version);case 38:return e.abrupt("return",c);case 39:case"end":return e.stop()}}),e,null,[[10,14]])})));return function(t,r,n){return e.apply(this,arguments)}}();function ve(e){var t=Symbol.for("velcro.aliases"),r=Symbol.for("velcro.modules"),n=Symbol.for("velcro.registry"),a=Symbol.for("velcro.root");function o(){this[t]=Object.create(null),this[r]=Object.create(null),this[n]=Object.create(null),this[Symbol.toStringTag]="Module";var e=this;Object.defineProperty(this,"root",{configurable:!1,enumerable:!0,get:function(){var t=e[a];return t||(t=new i("velcro://root",e),e[a]=t),t}})}function i(e,t){this.exports={},this.dependents=new Set,this.id=e,this.runtime=t}o.prototype.alias=function(e,r){this[t][e]=r},o.prototype.import=function(t){return new Promise((function(r,n){try{return r(e.runtime.require(t))}catch(a){return n(a)}}))},o.prototype.register=function(e,t){if(this[n][e])throw new Error("A module factory is already registered for ".concat(e));this[n][e]=t},o.prototype.remove=function(e){e=this[t][e]||e;var n=this[r][e];if(!n)return!1;for(var a=new Set,o=[n];o.length;){var i=o.shift();a.has(i)||(a.add(i),o.push.apply(o,Object(U.a)(i.dependents)),delete this[r][i.id])}return!0},o.prototype.require=function(e){return this.root.require(this[t][e]||e)},i.prototype.require=function(a){a=this.runtime[t][a]||a;var o=this.runtime[r][a];if(!o){var c=this.runtime[n][a];if(!c)throw console.error(),new Error("Factory missing for ".concat(a));o=new i(a,this.runtime),this.runtime[r][a]=o;var s=a,u=a,l=e.util;l&&l.dirname&&(s=l.dirname(a)),l&&l.basename&&(u=l.basename(a)),c.call(o.exports,o,o.exports,o.require.bind(o),s,u)}return o.dependents.add(this),o.exports};var c=e.runtime;return c||(c=new o,e.runtime=c),o}var be,me,ge=function(e){function t(e){var r;return Object(h.a)(this,t),(r=Object(O.a)(this,Object(E.a)(t).call(this,e))).name=r.constructor.name,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(Object(S.a)(r),r.constructor):r.stack=new Error(e).stack,r}return Object(C.a)(t,e),t}(Object(R.a)(Error)),ye=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(C.a)(t,e),t}(ge),ke=function(e){function t(e,r){var n;return Object(h.a)(this,t),(n=Object(O.a)(this,Object(E.a)(t).call(this,"Unable to resolve '".concat(e,"'").concat(r?" from '".concat(r,"'"):"")))).href=e,n.fromHref=r,n}return Object(C.a)(t,e),t}(ge),we=new URL("velcro://@empty"),xe={Buffer:{spec:"@velcro/node-libs@".concat("0.18.0","/lib/buffer.js"),export:"Buffer"},global:{spec:"@velcro/node-libs@".concat("0.18.0","/lib/global.js")},process:{spec:"@velcro/node-libs@".concat("0.18.0","/lib/process.js")}},je=function(){function e(t){Object(h.a)(this,e),this.assetsByHref=new Map,this.pendingResolves=new Map,this.onAssetAddedEmitter=new M.d,this.onAssetRemovedEmitter=new M.d,this.resolver=t.resolver}return Object(d.a)(e,[{key:"dispose",value:function(){this.onAssetAddedEmitter.dispose(),this.onAssetRemovedEmitter.dispose(),this.assetsByHref.clear(),this.pendingResolves.clear()}},{key:"getOrCreateAsset",value:function(e){var t=this.assetsByHref.get(e.resolvedHref);return t||(t=new pe(e.resolvedHref,e.rootHref),this.assetsByHref.set(e.resolvedHref,t),this.onAssetAddedEmitter.fire(t)),t}},{key:"generateBundleCode",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n,a,o,i,c,u,p,h,d,v,b,g,y,k,w,x,j,O,E,S,C,R,M,P,F,T,q,L,J,B,W,H,_,V,K,$,z,G,X,Y,Q,Z,ee,te,re,ne,ae,oe,ie,ce,se,ue=this,le=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=le.length>1&&void 0!==le[1]?le[1]:{},Array.isArray(t)&&t.length){e.next=3;break}throw new Error("Generating a bundle requires passing in an array of entrypoints");case 3:if(n=new m.c,a=n.token,r.token&&(o=r.token.onCancellationRequested((function(){n.cancel(),o.dispose()}))),i=0,c=new Set,u=new I,p=new Map,h=new Map,d=function(){var e=Object(f.a)(l.a.mark((function e(t,n){var o,f,p,h,v,b,m,g,y,k,w,x,j,O,E,S,C,R,M,D,P,A,N,F,T,q;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i++,r.onEnqueueAsset&&r.onEnqueueAsset(),e.next=5,ue.resolveWithDetails(t,n,{token:a});case 5:if(o=e.sent,f=o.resolvedHref,p=ue.getOrCreateAsset(o),c.has(p)){e.next=80;break}if(c.add(p),p.magicString){e.next=15;break}return e.next=13,ue.readCode(p,{token:a});case 13:v=e.sent,p.setCode(v);case 15:for(b=[],m=!0,g=!1,y=void 0,e.prev=19,k=function(){var e=x.value;b.push(d(e.spec.value,f).then((function(t){return{type:pe.DependencyKind.Require,href:t.href,rootHref:t.rootHref,callee:e.callee,spec:e.spec,value:e.spec.value}})))},w=p.unresolvedDependencies.requireDependencies[Symbol.iterator]();!(m=(x=w.next()).done);m=!0)k();e.next=28;break;case 24:e.prev=24,e.t0=e.catch(19),g=!0,y=e.t0;case 28:e.prev=28,e.prev=29,m||null==w.return||w.return();case 31:if(e.prev=31,!g){e.next=34;break}throw y;case 34:return e.finish(31);case 35:return e.finish(28);case 36:for(j=!0,O=!1,E=void 0,e.prev=39,S=function(){var e=R.value;b.push(d(e.spec.value,f).then((function(t){return{type:pe.DependencyKind.RequireResolve,href:t.href,rootHref:t.rootHref,callee:e.callee,spec:e.spec,value:e.spec.value}})))},C=p.unresolvedDependencies.requireResolveDependencies[Symbol.iterator]();!(j=(R=C.next()).done);j=!0)S();e.next=48;break;case 44:e.prev=44,e.t1=e.catch(39),O=!0,E=e.t1;case 48:e.prev=48,e.prev=49,j||null==C.return||C.return();case 51:if(e.prev=51,!O){e.next=54;break}throw E;case 54:return e.finish(51);case 55:return e.finish(48);case 56:for(M=!0,D=!1,P=void 0,e.prev=59,A=function(){var e=F.value,t=(T=Object(s.a)(e,2))[0],r=T[1],n=xe[t];n&&b.push(d(n.spec,f).then((function(e){return{type:pe.DependencyKind.InjectedGlobal,href:e.href,rootHref:e.rootHref,references:r,exportName:n.export,symbolName:t,value:"".concat(n.spec).concat(n.export?"[".concat(JSON.stringify(n.export),"]"):"")}})))},N=p.unresolvedDependencies.unboundSymbols[Symbol.iterator]();!(M=(F=N.next()).done);M=!0)A();e.next=68;break;case 64:e.prev=64,e.t2=e.catch(59),D=!0,P=e.t2;case 68:e.prev=68,e.prev=69,M||null==N.return||N.return();case 71:if(e.prev=71,!D){e.next=74;break}throw P;case 74:return e.finish(71);case 75:return e.finish(68);case 76:return e.next=78,Promise.all(b);case 78:q=e.sent,(h=p.dependencies).splice.apply(h,[0,p.dependencies.length].concat(Object(U.a)(q)));case 80:if(i--,r.onCompleteAsset&&r.onCompleteAsset(),!(i<0)){e.next=84;break}throw new ye("Pending operations fell below zero");case 84:return 0===i&&Promise.resolve().then((function(){return u.resolve()})),e.abrupt("return",p);case 88:throw e.prev=88,e.t3=e.catch(0),r.onCompleteAsset&&r.onCompleteAsset(),Promise.resolve().then((function(){return u.reject(e.t3)})),e.t3;case 93:case"end":return e.stop()}}),e,null,[[0,88],[19,24,28,36],[29,,31,35],[39,44,48,56],[49,,51,55],[59,64,68,76],[69,,71,75]])})));return function(t,r){return e.apply(this,arguments)}}(),r.dependencies)for(b in v=function(e){d("".concat(e,"@").concat(r.dependencies[e])).then((function(t){return p.set(e,t)}),(function(e){}))},r.dependencies)v(b);for(g=!0,y=!1,k=void 0,e.prev=16,w=function(){var e=j.value;d(e).then((function(t){return h.set(e,t)}),(function(e){}))},x=t[Symbol.iterator]();!(g=(j=x.next()).done);g=!0)w();e.next=25;break;case 21:e.prev=21,e.t0=e.catch(16),y=!0,k=e.t0;case 25:e.prev=25,e.prev=26,g||null==x.return||x.return();case 28:if(e.prev=28,!y){e.next=31;break}throw k;case 31:return e.finish(28);case 32:return e.finish(25);case 33:return e.next=35,u.promise;case 35:O=new D.a({separator:"\n"}),E=!0,S=!1,C=void 0,e.prev=39,R=c[Symbol.iterator]();case 41:if(E=(M=R.next()).done){e.next=88;break}if((P=M.value).magicString){e.next=45;break}throw new Error("Invariant violation: asset is not loaded '".concat(P.href,"'"));case 45:(F=P.magicString.clone()).trim(),T=!0,q=!1,L=void 0,e.prev=50,J=P.dependencies[Symbol.iterator]();case 52:if(T=(B=J.next()).done){e.next=67;break}W=B.value,e.t1=W.type,e.next=e.t1===pe.DependencyKind.Require?57:e.t1===pe.DependencyKind.RequireResolve?59:e.t1===pe.DependencyKind.InjectedGlobal?61:63;break;case 57:case 59:return F.overwrite(W.spec.start,W.spec.end,JSON.stringify(W.href)),e.abrupt("break",64);case 61:return F.prepend("const ".concat(W.symbolName," = require(").concat(JSON.stringify(W.href),")").concat(W.exportName?".".concat(W.exportName):"",";\n")),e.abrupt("break",64);case 63:throw new Error("Invariant violation: Encountered unexpected dependency kind '".concat(W.type,"'"));case 64:T=!0,e.next=52;break;case 67:e.next=73;break;case 69:e.prev=69,e.t2=e.catch(50),q=!0,L=e.t2;case 73:e.prev=73,e.prev=74,T||null==J.return||J.return();case 76:if(e.prev=76,!q){e.next=79;break}throw L;case 79:return e.finish(76);case 80:return e.finish(73);case 81:F.trim(),F.prepend("Velcro.runtime.register(".concat(JSON.stringify(P.href),", function(module, exports, require, __dirname, __filename){\n")),F.append("\n});"),O.addSource(F);case 85:E=!0,e.next=41;break;case 88:e.next=94;break;case 90:e.prev=90,e.t3=e.catch(39),S=!0,C=e.t3;case 94:e.prev=94,e.prev=95,E||null==R.return||R.return();case 97:if(e.prev=97,!S){e.next=100;break}throw C;case 100:return e.finish(97);case 101:return e.finish(94);case 102:for(O.prepend("(".concat(ve.toString(),")(typeof globalThis === 'object' ? (globalThis.Velcro || (globalThis.Velcro = {})) : (this.Velcro || (this.Velcro = {})));\n")),H=!0,_=!1,V=void 0,e.prev=106,K=p[Symbol.iterator]();!(H=($=K.next()).done);H=!0)z=$.value,G=Object(s.a)(z,2),X=G[0],Y=G[1],O.append("Velcro.runtime.alias(".concat(JSON.stringify(X),", ").concat(JSON.stringify(Y.href),");\n"));e.next=114;break;case 110:e.prev=110,e.t4=e.catch(106),_=!0,V=e.t4;case 114:e.prev=114,e.prev=115,H||null==K.return||K.return();case 117:if(e.prev=117,!_){e.next=120;break}throw V;case 120:return e.finish(117);case 121:return e.finish(114);case 122:if(!r.requireEntrypoints){e.next=142;break}for(Q=!0,Z=!1,ee=void 0,e.prev=126,te=h.values()[Symbol.iterator]();!(Q=(re=te.next()).done);Q=!0)ne=re.value,O.append("Velcro.runtime.require(".concat(JSON.stringify(ne.href),");\n"));e.next=134;break;case 130:e.prev=130,e.t5=e.catch(126),Z=!0,ee=e.t5;case 134:e.prev=134,e.prev=135,Q||null==te.return||te.return();case 137:if(e.prev=137,!Z){e.next=140;break}throw ee;case 140:return e.finish(137);case 141:return e.finish(134);case 142:return ae=O.toString(),oe="",r.sourceMap&&((ie=O.generateMap({includeContent:!1,hires:!1})).file="velcro://bundle.js",ce=new Set,se=Object(A.a)(ie.toString(),(function(e){var t=ue.assetsByHref.get(e);if(t&&t.sourceMappingUrl){if(ce.has(t))return null;ce.add(t);var r=t.sourceMappingUrl.match(/^data:application\/json;(?:charset=([^;]+);)?base64,(.*)$/);if(r){if(r[1]&&"utf-8"!==r[1])return null;try{return JSON.parse(N.Base64.decode(r[2]))}catch(n){return null}}}return null}),!1),oe="\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(N.Base64.encode(JSON.stringify(se)))),e.abrupt("return","".concat(ae).concat(oe));case 146:case"end":return e.stop()}}),e,null,[[16,21,25,33],[26,,28,32],[39,90,94,102],[50,69,73,81],[74,,76,80],[95,,97,101],[106,110,114,122],[115,,117,121],[126,130,134,142],[135,,137,141]])})));return function(t){return e.apply(this,arguments)}}()},{key:"invalidate",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n,a,o,i,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:{},n=r.token,a=this.assetsByHref.get(t)){e.next=25;break}if(o=void 0,e.prev=4,!J(t)){e.next=11;break}return e.next=8,de(this.resolver,t,void 0,{token:n});case 8:o=e.sent,e.next=15;break;case 11:return i=new URL(t),e.next=14,this.resolver.resolve(i,{token:n});case 14:o=e.sent;case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(4),!(e.t0 instanceof m.d)){e.next=21;break}return e.abrupt("return",!1);case 21:throw e.t0;case 22:if(o&&o.resolvedUrl){e.next=24;break}return e.abrupt("return",!1);case 24:a=this.assetsByHref.get(o.resolvedUrl.href);case 25:if(!a){e.next=28;break}return this.removeAsset(a),e.abrupt("return",!0);case 28:return e.abrupt("return",!1);case 29:case"end":return e.stop()}}),e,this,[[4,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeAsset",value:function(e){this.assetsByHref.delete(e.href)&&this.onAssetRemovedEmitter.fire(e)}},{key:"readCode",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.token,t.href!==we.href){e.next=3;break}return e.abrupt("return","module.exports = function(){};");case 3:return e.next=5,this.resolver.host.readFileContent(this.resolver,new URL(t.href),{token:n});case 5:return a=e.sent,o=this.resolver.decoder.decode(a),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"resolveWithDetails",value:function(){var t=Object(f.a)(l.a.mark((function t(r,n,a){var o,i,c,s,u,f,p,h,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=a.token,!J(r)){t.next=13;break}return t.next=4,de(this.resolver,r,n,{token:o});case 4:if((c=t.sent).stableUrl){t.next=7;break}throw new Error("Failed to resolve bare module '".concat(r,"' from '").concat(n||"@root","' to a stable url"));case 7:if(c.stableRootUrl){t.next=9;break}throw new Error("Failed to resolve bare module '".concat(r,"' from '").concat(n||"@root","' to a stable root url"));case 9:s=c.resolvedUrl?c.resolvedUrl.href:we.href,i={type:e.ResolveDetailsKind.BareModule,bareModule:{isBuiltIn:c.bareModule.isBuiltIn,version:c.bareModule.version,versionSpec:c.bareModule.versionSpec},ignored:c.ignored,resolvedHref:s,rootHref:c.rootUrl.href,stableHref:c.stableUrl.href,stableRootHref:c.stableRootUrl.href},t.next=21;break;case 13:return u=new URL(r,n),t.next=16,this.resolver.resolve(u);case 16:f=t.sent,p=f.resolvedUrl?f.resolvedUrl:we,h=p.href,d=f.rootUrl.href,i={type:e.ResolveDetailsKind.Relative,ignored:f.ignored,resolvedHref:h,rootHref:d,stableHref:h,stableRootHref:d};case 21:return t.abrupt("return",i);case 22:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"onAssetAdded",get:function(){return this.onAssetAddedEmitter.event}},{key:"onAssetRemoved",get:function(){return this.onAssetRemovedEmitter.event}}]),e}();me=je||(je={}),(be=me.ResolveDetailsKind||(me.ResolveDetailsKind={})).BareModule="bare_module",be.Relative="relative";var Oe={decode:N.Base64.decode,encode:N.Base64.encode},Ee=Object.freeze({base64:Oe,CancellationToken:M.b,CancellationTokenSource:M.c,getSourceMappingUrl:W,get Asset(){return pe},get Bundler(){return je},InvariantViolation:ye,ResolveError:ke,CanceledError:M.a}),Se=(new(ve(globalThis.Velcro||(globalThis.Velcro=T({},Ee)))),function(e){function t(e){var r;for(var n in Object(h.a)(this,t),(r=Object(O.a)(this,Object(E.a)(t).call(this))).hosts=new Map,e)r.hosts.set(n,e[n]);return r}return Object(C.a)(t,e),Object(d.a)(t,[{key:"getCanonicalUrl",value:function(e,t){var r=t.href,n=!0,a=!1,o=void 0;try{for(var i,c=this.hosts[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value,l=Object(s.a)(u,2),f=l[0],p=l[1];if(r.startsWith(f)){if("function"===typeof p.getCanonicalUrl)return p.getCanonicalUrl(e,t);break}}}catch(h){a=!0,o=h}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return Promise.resolve(t)}},{key:"getResolveRoot",value:function(e,t){var r=t.href,n=!0,a=!1,o=void 0;try{for(var i,c=this.hosts[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value,l=Object(s.a)(u,2),f=l[0],p=l[1];if(r.startsWith(f))return p.getResolveRoot(e,t)}}catch(h){a=!0,o=h}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return Promise.reject(new Error("No suitable host found for url ".concat(r)))}},{key:"listEntries",value:function(e,t){var r=t.href,n=!0,a=!1,o=void 0;try{for(var i,c=this.hosts[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value,l=Object(s.a)(u,2),f=l[0],p=l[1];if(r.startsWith(f))return p.listEntries(e,t)}}catch(h){a=!0,o=h}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return Promise.reject(new Error("No suitable host found for url ".concat(r)))}},{key:"readFileContent",value:function(e,t){var r=t.href,n=!0,a=!1,o=void 0;try{for(var i,c=this.hosts[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value,l=Object(s.a)(u,2),f=l[0],p=l[1];if(r.startsWith(f))return p.readFileContent(e,t)}}catch(h){a=!0,o=h}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return Promise.reject(new Error("No suitable host found for url ".concat(r)))}}]),t}(m.a)),Ce=function(e){function t(e){var r;return Object(h.a)(this,t),(r=Object(O.a)(this,Object(E.a)(t).call(this,e))).name=r.constructor.name,r}return Object(C.a)(t,e),t}(Object(R.a)(Error)),Re=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(C.a)(t,e),t}(Ce),Ue=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(C.a)(t,e),t}(Ce),Me=function(e){function t(e,r){var n;return Object(h.a)(this,t),(n=Object(O.a)(this,Object(E.a)(t).call(this,e))).diagnostics=r,n}return Object(C.a)(t,e),t}(Ce),De=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.Uri.file("/");return Object(h.a)(this,t),(e=Object(O.a)(this,Object(E.a)(t).call(this))).rootUri=r,e}return Object(C.a)(t,e),Object(d.a)(t,[{key:"getResolveRoot",value:function(){var e=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new URL(this.rootUri.toString(!0)));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listEntries",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.href.replace(/\/?$/,"/"),a=this.rootUri.toString(!0),n.startsWith(a)){e.next=4;break}return e.abrupt("return",[]);case 4:return e.abrupt("return",v.editor.getModels().reduce((function(e,t){var r=t.uri.toString(!0),a=new Set;if(r.startsWith(n)){var o=r.slice(n.length),i=o.indexOf("/");if(0===i)throw new Error("Invariant error: WAT?");if(i>0){var c=new URL(o.slice(0,i+1),n);a.has(c.href)||e.push({type:m.e.Directory,url:c})}else e.push({type:m.e.File,url:new URL(r)})}return e}),[]));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"readFileContent",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a,o,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r.href).startsWith(this.rootHref)){e.next=3;break}throw new Re("Attempting to read file content for a model at '".concat(n,"' outside of this host's root '").concat(this.rootHref,"'"));case 3:if(a=n.slice(this.rootHref.length),o=v.editor.getModel(v.Uri.file(a))){e.next=7;break}throw new Re("Attempting to read file content for a model that doesn't exist at '".concat(n,"'"));case 7:return i=new TextEncoder,e.next=10,this.getTranspiledValue(o);case 10:return c=e.sent,e.abrupt("return",i.encode(c));case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getTranspiledValue",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("typescript"!==t.getModeId()){e.next=22;break}r=t.uri.toString(!0),n=function(){var e=Object(f.a)(l.a.mark((function e(){var n,a,o,i,c,u,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.languages.typescript.getTypeScriptWorker();case 2:return n=e.sent,e.next=5,n(t.uri);case 5:return a=e.sent,e.next=8,Promise.all([a.getEmitOutput(r),a.getSyntacticDiagnostics(r)]);case 8:if(o=e.sent,i=Object(s.a)(o,2),c=i[0],u=i[1],!c.emitSkipped){e.next=14;break}throw new Re("Emit skipped when trying to read '".concat(t.uri.fsPath,"'"));case 14:if(!u.length){e.next=17;break}throw f=u.map((function(e){var r="number"===typeof e.start?t.getPositionAt(e.start):void 0,n="number"===typeof e.start&&"number"===typeof e.length?t.getPositionAt(e.start+e.length):void 0;return{message:Pe(e.messageText),start:r?{lineNumber:r.lineNumber,column:r.column}:void 0,end:n?{lineNumber:n.lineNumber,column:n.column}:void 0,href:e.source}})),new Me("".concat(u[0].messageText," at ").concat(t.uri.fsPath),f);case 17:return e.abrupt("return",c.outputFiles[0].text);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=0;case 4:if(!(a++<3)){e.next=21;break}return e.prev=5,e.next=8,i=n(),c=2e3,Promise.race([i,Object(b.g)(c).then((function(){return Promise.reject(new Ue)}))]);case 8:return o=e.sent,e.abrupt("return",o);case 12:if(e.prev=12,e.t0=e.catch(5),!(e.t0 instanceof Ue)){e.next=18;break}return e.next=17,Object(b.g)(500*Math.pow(2,a));case 17:return e.abrupt("continue",4);case 18:throw e.t0;case 19:e.next=4;break;case 21:throw new Ue("Timed out while trying to transpile '".concat(r,"'"));case 22:return e.abrupt("return",t.getValue());case 23:case"end":return e.stop()}var i,c}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rootHref",get:function(){return this.rootUri.toString(!0)}}]),t}(m.a);function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\n",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("string"===typeof e)return e;if(void 0===e)return"";var n="";if(r){n+=t;for(var a=0;a<r;a++)n+="  "}if(n+=e.messageText,r++,e.next){var o=!0,i=!1,c=void 0;try{for(var s,u=e.next[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){n+=Pe(s.value,t,r)}}catch(l){i=!0,c=l}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}}return n}var Ae=r(303),Ne=r.n(Ae),Fe=r(190),Te=function(e){function t(e){return Object(h.a)(this,t),Object(O.a)(this,Object(E.a)(t).call(this,"Not found ".concat(e.href)))}return Object(C.a)(t,e),t}(function(e){function t(e){var r;return Object(h.a)(this,t),(r=Object(O.a)(this,Object(E.a)(t).call(this,e))).name=r.constructor.name,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(Object(S.a)(r),r.constructor):r.stack=new Error(e).stack,r}return Object(C.a)(t,e),t}(Object(R.a)(Error)));function qe(e){return!(!e||"object"!==typeof e)&&(e.type===m.e.Directory?Le(e):e.type===m.e.File&&function(e){return"object"===typeof e&&e&&e.type===m.e.File&&"string"===typeof e.path&&e.path}(e))}function Le(e){return"object"===typeof e&&e&&e.type===m.e.Directory&&"string"===typeof e.path&&e.path&&("undefined"===typeof e.files||Array.isArray(e.files)&&e.files.every(qe))}var Ie=/^\/((@[^/]+\/[^/@]+|[^/@]+)(?:@([^/]+))?)(.*)?$/;function Je(e){e instanceof URL&&(e=e.pathname);var t=e.match(Ie);if(!t)throw new Error("Unable to parse unexpected unpkg url: ".concat(e));return{spec:t[1],name:t[2],version:t[3]||"",pathname:t[4]||""}}function Be(e,t){if(e&&t){var r=new t;return e.isCancellationRequested?r.abort():e.onCancellationRequested((function(){return r.abort()})),r.signal}}var We=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(h.a)(this,t),(e=Object(O.a)(this,Object(E.a)(t).call(this))).contentCache=new Ne.a({length:function(e){return e.byteLength},max:5242880}),e.inflightContentRequests=new Map,e.packageLock=new Map,e.packageEntriesCache=new Map,e.packageJsonCache=new Map,!r.fetch&&"function"!==typeof fetch)throw new TypeError("A fetch function must be provided to the ".concat(e.constructor.name," if the environment doesn't provide one"));return e.AbortController=r.AbortController,e.fetch=r.fetch||function(e,t){return fetch(e,t)},e}return Object(C.a)(t,e),Object(d.a)(t,[{key:"getCanonicalUrl",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a,o,i,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:{},a=n.token,"https:"===r.protocol&&"unpkg.com"===r.hostname){e.next=3;break}throw new Error("Unable to list non-unpkg entries for ".concat(r.href));case 3:return o=Je(r),e.next=6,this.readPackageJsonWithCache(t,o,{token:a});case 6:return i=e.sent,e.abrupt("return",new URL("".concat("https:","//").concat("unpkg.com","/").concat(i.name,"@").concat(i.version).concat(o.pathname)));case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getResolveRoot",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a,o,i,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:{},a=n.token,"https:"===r.protocol&&"unpkg.com"===r.hostname){e.next=3;break}throw new Error("Unable to list non-unpkg entries for ".concat(r.href));case 3:return o=Je(r),e.next=6,this.readPackageJsonWithCache(t,o,{token:a});case 6:return i=e.sent,e.abrupt("return",new URL("".concat("https:","//").concat("unpkg.com","/").concat(i.name,"@").concat(i.version,"/")));case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"listEntries",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a,o,i,c,s,u,f,p=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.length>2&&void 0!==p[2]?p[2]:{},a=n.token,"https:"===r.protocol&&"unpkg.com"===r.hostname){e.next=3;break}throw new Error("Unable to list non-unpkg entries for ".concat(r.href));case 3:return e.next=5,t.host.getResolveRoot(t,r,{token:a});case 5:return o=e.sent,i=Je(r),e.next=9,this.readPackageJsonWithCache(t,i,{token:a});case 9:return c=e.sent,r.pathname="/".concat(c.name,"@").concat(c.version).concat(i.pathname),e.next=13,this.readPackageEntriesWithCache(Je(r),{token:a});case 13:if(s=e.sent,!a||!a.isCancellationRequested){e.next=16;break}throw new m.b("Canceled");case 16:for(u=i.pathname.split("/").filter(Boolean),f=function(){var e=u.shift();if(s.type!==m.e.Directory||!s.files)throw new Te(r);s=s.files.find((function(t){return t.type===m.e.Directory&&m.f.path.basename(t.path)===e}))};s&&u.length;)f();if(s){e.next=21;break}throw new Te(r);case 21:if(s.files){e.next=23;break}return e.abrupt("return",[]);case 23:return e.abrupt("return",s.files.map((function(e){return{type:e.type,url:new URL(".".concat(e.path),o)}})));case 24:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"readFileContent",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a,o,i,c,s,u,f,p,h=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>2&&void 0!==h[2]?h[2]:{},a=n.token,"https:"===r.protocol&&"unpkg.com"===r.hostname){e.next=3;break}throw new Error("Unable to read file contents for non-unpkg entries for ".concat(r.href));case 3:if(o=r.href,!(i=this.contentCache.get(o))){e.next=7;break}return e.abrupt("return",i);case 7:if(!(c=this.inflightContentRequests.get(o))){e.next=10;break}return e.abrupt("return",c);case 10:return s=Be(a,this.AbortController),u=this.fetch,f=u(o,{redirect:"follow",signal:s}).then((function(e){if(!e.ok)throw new Error("Error reading file content for ".concat(o,": ").concat(e.status));return e.arrayBuffer()})).catch((function(e){if("AbortError"===e.name)throw new m.b("Canceled");throw e})),this.inflightContentRequests.set(o,f),e.prev=14,e.next=17,f;case 17:return p=e.sent,this.contentCache.set(o,p),e.abrupt("return",p);case 20:return e.prev=20,this.inflightContentRequests.delete(o),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[14,,20,23]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"readPackageEntriesWithCache",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n,a,o,i,c,u,f,p,h,d,v,b,m,g,y,k,w,x=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=x.length>1&&void 0!==x[1]?x[1]:{},n=r.token,a="entries:".concat(t.name),!(o=this.packageLock.get(a))){e.next=6;break}return e.next=6,o;case 6:if(i=Object(Fe.validRange)(t.version)){e.next=9;break}throw new Error("Invalid SemVer range for spec ".concat(t.spec));case 9:if(!(c=this.packageEntriesCache.get(t.name))){e.next=45;break}if(!(u=c.get(t.version))){e.next=14;break}return e.abrupt("return",u);case 14:f=!0,p=!1,h=void 0,e.prev=17,d=c[Symbol.iterator]();case 19:if(f=(v=d.next()).done){e.next=29;break}if(b=v.value,m=Object(s.a)(b,2),g=m[0],y=m[1],!Object(Fe.satisfies)(g,i)){e.next=26;break}return e.abrupt("return",y);case 26:f=!0,e.next=19;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(17),p=!0,h=e.t0;case 35:e.prev=35,e.prev=36,f||null==d.return||d.return();case 38:if(e.prev=38,!p){e.next=41;break}throw h;case 41:return e.finish(38);case 42:return e.finish(35);case 43:e.next=47;break;case 45:c=new Map,this.packageEntriesCache.set(t.name,c);case 47:return k=this.readPackageEntries(t.spec,{token:n}),this.packageLock.set(a,k),e.next=51,k;case 51:return w=e.sent,this.packageLock.delete(a),c.set(t.version,w),e.abrupt("return",w);case 55:case"end":return e.stop()}}),e,this,[[17,31,35,43],[36,,38,42]])})));return function(t){return e.apply(this,arguments)}}()},{key:"readPackageJsonWithCache",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a,o,i,c,u,f,p,h,d,v,b,m,g,y,k,w,x,j=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=j.length>2&&void 0!==j[2]?j[2]:{},a=n.token,o="packageJson:".concat(r.spec),!(i=this.packageLock.get(o))){e.next=6;break}return e.next=6,i;case 6:if(!(c=this.packageJsonCache.get(r.name))){e.next=44;break}if(!(u=c.get(r.version))){e.next=11;break}return e.abrupt("return",u);case 11:if(!(f=Object(Fe.validRange)(r.version))){e.next=42;break}p=!0,h=!1,d=void 0,e.prev=16,v=c[Symbol.iterator]();case 18:if(p=(b=v.next()).done){e.next=28;break}if(m=b.value,g=Object(s.a)(m,2),y=g[0],k=g[1],!Object(Fe.satisfies)(y,f)){e.next=25;break}return e.abrupt("return",k);case 25:p=!0,e.next=18;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(16),h=!0,d=e.t0;case 34:e.prev=34,e.prev=35,p||null==v.return||v.return();case 37:if(e.prev=37,!h){e.next=40;break}throw d;case 40:return e.finish(37);case 41:return e.finish(34);case 42:e.next=46;break;case 44:c=new Map,this.packageJsonCache.set(r.name,c);case 46:return w=this.readPackageJson(t,r.spec,{token:a}),this.packageLock.set(o,w),e.next=50,w;case 50:if(x=e.sent,this.packageLock.delete(o),x.version){e.next=54;break}throw new Error("Manifest missing a version identifier for ".concat(r));case 54:return c.set(x.version,x),e.abrupt("return",x);case 56:case"end":return e.stop()}}),e,this,[[16,30,34,42],[35,,37,41]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"readPackageJson",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a,o,i,c,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},a=n.token,o="".concat("https:","//").concat("unpkg.com","/").concat(r,"/package.json"),e.next=4,this.readFileContent(t,new URL(o),{token:a});case 4:i=e.sent,e.prev=5,c=m.g.parseBufferAsPackageJson(t.decoder,i,r),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(5),new Error("Error parsing manifest as json for package ".concat(r,": ").concat(e.t0.message));case 12:return e.abrupt("return",c);case 13:case"end":return e.stop()}}),e,this,[[5,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"readPackageEntries",value:function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n,a,o,i,c,s,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=r.token,a="".concat("https:","//").concat("unpkg.com","/").concat(t,"/?meta"),o=Be(n,this.AbortController),i=this.fetch,e.next=6,i(a,{signal:o}).catch((function(e){if("AbortError"===e.name)throw new m.b("Canceled");throw e}));case 6:if((c=e.sent).ok){e.next=9;break}throw new Error("Error listing package contents for ".concat(t,": ").concat(c.status));case 9:return e.next=11,c.json();case 11:if(Le(s=e.sent)){e.next=14;break}throw new Error("Unexpected response payload while listing package contents for ".concat(t));case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"resolveBareModule",value:function(e,t){return new URL("".concat("https:","//").concat("unpkg.com","/").concat(t.name,"@").concat(t.spec).concat(t.pathname))}}]),t}(m.a),He=r(305),_e=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.idbTimeout,o=void 0===a?1e3:a,i=n.hostTimeout,c=void 0===i?1e4:i;return Object(h.a)(this,t),(r=Object(O.a)(this,Object(E.a)(t).call(this))).host=e,r.idbPromise=Object(He.a)("velcro",je.schemaVersion,{upgrade:function(){var e=Object(f.a)(l.a.mark((function e(t,r,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Upgrading cache from version %s to %s",r,n),r||(t.createObjectStore("getCanonicalUrl"),t.createObjectStore("getResolveRoot"),t.createObjectStore("listEntries"),t.createObjectStore("readFileContent")),e.next=4,a.objectStore("getCanonicalUrl").clear();case 4:return e.next=6,a.objectStore("getResolveRoot").clear();case 6:return e.next=8,a.objectStore("listEntries").clear();case 8:return e.next=10,a.objectStore("readFileContent").clear();case 10:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}()}).catch((function(e){return console.error(e,"error opening IndexedDB"),null})),r.hostTimeout=void 0,r.idbTimeout=void 0,r.inflightGetCanonicalUrl=new Map,r.inflightGetResolveRoot=new Map,r.inflightListEntries=new Map,r.inflightReadFileContent=new Map,r.hostTimeout=c,r.idbTimeout=o,r}return Object(C.a)(t,e),Object(d.a)(t,[{key:"withCache",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r,n,a,o,i){var c,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(this.idbTimeout,this.idbPromise,"this.idbPromise").catch((function(e){}));case 2:if(!(c=e.sent)){e.next=9;break}return e.next=6,Ve(this.idbTimeout,c.get(a,t),"idb.get(".concat(a,", ").concat(t,")")).catch((function(e){}));case 6:if(!(s=e.sent)){e.next=9;break}return e.abrupt("return",i?i(s):s);case 9:return(u=n.get(t))||(u=Ve(this.hostTimeout,r(),"Timed out on operation '".concat(a,"' for '").concat(t,"'")),n.set(t,u),u.then((function(e){c&&c.put(a,o?o(e):e,t).catch((function(e){}))})).catch((function(e){})).then((function(){n.delete(t)}))),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o,i){return e.apply(this,arguments)}}()},{key:"getCanonicalUrl",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withCache(r.href,(function(){return a.host.getCanonicalUrl(t,r)}),this.inflightGetCanonicalUrl,"getCanonicalUrl",(function(e){return e.href}),(function(e){return new URL(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getResolveRoot",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withCache(r.href,(function(){return a.host.getResolveRoot(t,r)}),this.inflightGetResolveRoot,"getResolveRoot",(function(e){return e.href}),(function(e){return new URL(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"listEntries",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withCache(r.href,(function(){return a.host.listEntries(t,r)}),this.inflightListEntries,"listEntries",(function(e){return e.map((function(e){return{type:e.type,href:e.url.href}}))}),(function(e){return e.map((function(e){return{type:e.type,url:new URL(e.href)}}))}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"readFileContent",value:function(){var e=Object(f.a)(l.a.mark((function e(t,r){var n,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.withCache(r.href,(function(){return a.host.readFileContent(t,r)}),this.inflightReadFileContent,"readFileContent");case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()}]),t}(m.a);function Ve(e,t,r){return Promise.race([t,Object(b.g)(e).then((function(){return Promise.reject(new Ue(r))}))])}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ze=v.Uri.file("/"),Ge=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(h.a)(this,e),this.bundler=new je({resolver:new m.f(new Se(Object(p.a)({"https://unpkg.com/":new _e(new We)},ze.toString(!0),new De(ze))),{extensions:[".js",".jsx",".ts",".tsx"],packageMain:["browser","main"]})}),this.editor=null,this.disposableStore=new b.c,this.initialPath=void 0,this.typeAcquirer=new j(this.bundler.resolver,We.resolveBareModule),this.viewState=new WeakMap,this.onWillFocusModelEmitter=new b.d,this.onDidChangeEmitter=new b.d,this.disposableStore.add(this.onWillFocusModelEmitter),this.disposableStore.add(this.onDidChangeEmitter),v.languages.typescript.typescriptDefaults.setEagerModelSync(!0),v.languages.typescript.typescriptDefaults.setMaximumWorkerIdleTime(0),v.languages.typescript.typescriptDefaults.setCompilerOptions({allowJs:!0,allowNonTsExtensions:!0,allowSyntheticDefaultImports:!0,baseUrl:".",checkJs:!0,esModuleInterop:!0,experimentalDecorators:!0,inlineSourceMap:!0,inlineSources:!0,isolatedModules:!1,jsx:v.languages.typescript.JsxEmit.React,jsxFactory:"React.createElement",lib:["dom"],module:v.languages.typescript.ModuleKind.CommonJS,moduleResolution:v.languages.typescript.ModuleResolutionKind.NodeJs,noEmit:!1,outDir:"dist",resolveJsonModule:!0,rootDir:"/",sourceMap:!0,target:v.languages.typescript.ScriptTarget.ES2015,typeRoots:["node_modules/@types"]}),v.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!1}),r.files)for(var n in r.files){var a=r.files[n];this.createModel(n,a)}v.editor.onDidCreateModel((function(e){var r=function(){var r=Object(f.a)(l.a.mark((function r(){var n,a,o;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=e.getValue(),a={typescript:v.languages.typescript.typescriptVersion};try{(o=JSON.parse(n)).dependencies&&(a=$e({},a,{},o.dependencies))}catch(i){}return v.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0}),r.next=6,t.typeAcquirer.importTypesForSpecs(a);case 6:v.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1});case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();if(e.uri.toString(!0)==="".concat(ze.toString(!0),"package.json")){var n=new b.e(1500);n.trigger(r),t.disposableStore.add(e.onDidChangeContent((function(){return n.trigger(r)}))),t.disposableStore.add(n)}})),this.disposableStore.add(this.typeAcquirer.onTypeFile((function(e){t.disposableStore.add(v.languages.typescript.typescriptDefaults.addExtraLib(e.content,v.Uri.file(e.pathname).toString(!0)))}))),this.initialPath=r.initialPath}return Object(d.a)(e,[{key:"createModel",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.inferLanguage(e);try{t=v.Uri.file(e)}catch(a){throw new Error("Invalid path '".concat(e,"': ").concat(a&&a.message))}if(v.editor.getModel(t))throw new Error("Cannot create file because it exists '".concat(e,"'"));return v.editor.createModel(r,n,t)}},{key:"focusModel",value:function(e){this.editor&&(this.editor.setModel(e),this.editor.focus())}},{key:"focusPath",value:function(e){if(this.editor){var t=v.editor.getModel(v.Uri.file(e));t&&this.focusModel(t)}}},{key:"mount",value:function(e){var t=this;if(this.editor)throw new Error("Invariant violation: Editor already mounted");return this.editor=v.editor.create(e,{model:null,automaticLayout:!0,showUnused:!0,scrollBeyondLastLine:!1,theme:"vs"}),this.editor.onDidDispose((function(){t.editor=null})),this.editor.onDidChangeModel((function(e){if(e.newModelUrl&&t.editor){var r=v.editor.getModel(e.newModelUrl),n=t.viewState.get(r);n&&t.editor.restoreViewState(n)}})),this.editor.onDidBlurEditorText((function(){if(t.editor){var e=t.editor.getModel(),r=t.editor.saveViewState();e&&r&&t.viewState.set(e,r)}})),this.disposableStore.add(this.editor),this.initialPath&&this.focusPath(this.initialPath),this.editor}},{key:"inferLanguage",value:function(e){return e.match(/\.(?:tsx?|jsx?)$/)?"typescript":void 0}},{key:"dispose",get:function(){return console.log("EditorManager::dispose()"),this.disposableStore.dispose}},{key:"onDidChange",get:function(){return this.onDidChangeEmitter.event}},{key:"onWillFocusModel",get:function(){return this.onWillFocusModelEmitter.event}}]),e}(),Xe=Object(a.createContext)(new Ge);var Ye=function(e){var t=e.className,r=Object(a.useRef)(null),n=Object(a.useContext)(Xe);return Object(a.useEffect)((function(){if(r.current){var e=n.mount(r.current);return function(){e.dispose()}}}),[n,r]),o.a.createElement("div",{className:t,ref:r},o.a.createElement("div",null))},Qe=Object(n.a)(Ye,{target:"e11lnhjz0"})(""),Ze=r(304);function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var tt,rt=function(){function e(t){Object(h.a)(this,e),this.options=t}return Object(d.a)(e,[{key:"getColumnNumber",value:function(){return this.options.columnNumber}},{key:"getEvalOrigin",value:function(){return this.options.evalOrigin||"(EVALORIGIN)"}},{key:"getMethodName",value:function(){return this.options.methodName}},{key:"getFunctionName",value:function(){return this.options.functionName}},{key:"getLineNumber",value:function(){return this.options.lineNumber}},{key:"getFileName",value:function(){return this.options.fileName}},{key:"getTypeName",value:function(){return this.options.typeName}},{key:"isConstructor",value:function(){return this.options.isConstructor}},{key:"isEval",value:function(){return this.options.isEval}},{key:"isInternal",value:function(){return!!this.options.isInternal}},{key:"isNative",value:function(){return this.options.isNative}},{key:"isToplevel",value:function(){return this.options.isToplevel}},{key:"toString",value:function(){var e=void 0,t="";if(this.isNative())t="native";else{!(e=this.getFileName())&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),t+=e||"<anonymous>";var r=this.getLineNumber();if(void 0!==r){t+=":"+r;var n=this.getColumnNumber();void 0!==n&&(t+=":"+n)}}var a="",o=this.getFunctionName(),i=!0,c=this.isConstructor();if(!(this.isToplevel()||c)){var s=this.getTypeName();"[object Object]"===s&&(s="null");var u=this.getMethodName();o?(s&&0!==o.indexOf(s)&&(a+=s+"."),a+=o,u&&o.indexOf("."+u)!==o.length-u.length-1&&(a+=" [as "+u+"]")):a+=s+"."+(u||"<anonymous>")}else c?a+="new "+(o||"<anonymous>"):o?a+=o:(a+=t,i=!1);return i&&(a+=" ("+t+")"),a}},{key:"with",value:function(t){return new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.options,{},t))}}],[{key:"prepareStackTrace",value:function(e,t){return[{isInternal:!1,text:(e.name||"Error")+": "+(e.message||"")}].concat(Object(U.a)(t.map((function(e){return{isInternal:e.isInternal(),text:"    at ".concat(e.toString())}}))))}}]),e}(),nt=Object(n.a)("div",{target:"e1xm0g1r0"})("z-index:1;position:absolute;top:0;width:",(function(e){return e.total?"".concat(Math.round(100*e.completed/e.total),"%"):0}),";left:0;height:",(function(e){return e.total?"2px":"0"}),";background-color:#008cba;transition:width 0.5s 0s cubic-bezier(0.455,0.03,0.515,0.955);"),at=Object(n.a)("div",{target:"e1xm0g1r1"})({name:"xvu70e",styles:"position:relative;overflow:hidden;& > iframe{position:absolute;top:0;right:0;bottom:0;left:0;border:none;}"}),ot=Object(n.a)("div",{target:"e1xm0g1r2"})("position:relative;",at,"{position:absolute;top:0;right:0;bottom:0;left:0;}"),it=Object(n.a)("ul",{target:"e1xm0g1r3"})({name:"592wbr",styles:"margin:0;padding:1em 2em;font-family:monospace;font-size:16px;background-color:rgba(255,0,0,0.5);backdrop-filter:brightness(50%);color:white;list-style:none;"}),ct=Object(n.a)("li",{target:"e1xm0g1r4"})("white-space:pre-wrap;opacity:",(function(e){return e.isInternal?.7:1}),";"),st=Object(n.a)("div",{target:"e1xm0g1r5"})({name:"owwzlj",styles:"z-index:1;position:absolute;bottom:0;right:0;left:0;display:flex;flex-direction:column-reverse;"}),ut=function(e){var t=e.line;return o.a.createElement(ct,{isInternal:t.isInternal},t.text)},lt=function(e){var t=e.message;return t.lines.length?o.a.createElement(it,null,t.lines.map((function(e,t){return o.a.createElement(ut,{key:t,line:e})}))):null},ft=function(e){var t=Object(a.useRef)(new Set),r=Object(a.useRef)(null),n=Object(a.useRef)(null),i=Object(a.useContext)(Xe),c=Object(a.useState)([]),u=Object(s.a)(c,2),p=u[0],h=u[1],d=Object(a.useState)({completed:0,total:0}),m=Object(s.a)(d,2),g=m[0],y=m[1];return Object(a.useEffect)((function(){var e=new b.c,a=new b.b(500),o=new b.f,c=new b.a,s=function(e){c.cancel(),c.dispose(),c=new b.a;var r=!0,n=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var f=s.value;t.current.add(f)}}catch(p){n=!0,i=p}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}a.trigger((function(){return o.queue((function(){return u(c.token)}))}))},u=function(){var e=Object(f.a)(l.a.mark((function e(a){var o,s,u,f,p,d,b,m,g,k,w;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Array.from(t.current),h([]),t.current.clear(),y({completed:0,total:0}),s=!0,e.prev=5,e.next=8,Promise.all(o.map((function(e){return i.bundler.invalidate(e,{token:a})})));case 8:return u=v.Uri.file("/").toString(!0),e.next=11,i.bundler.resolver.resolve(u);case 11:if((f=e.sent).resolvedUrl){e.next=14;break}throw new Error("Unable to determine the entrypoing to your code");case 14:return p=f.resolvedUrl.href,e.next=17,i.bundler.generateBundleCode([p],{dependencies:{"error-stack-parser":"^2.0.4"},onCompleteAsset:function(){s&&y((function(e){return{completed:e.completed+1,total:e.total}}))},onEnqueueAsset:function(){s&&y((function(e){return{completed:e.completed,total:e.total+1}}))},sourceMap:!0,requireEntrypoints:!0,token:a});case 17:return d=e.sent,b=new File(["(".concat(ht.toString(),")();")],"watcher.js",{type:"text/javascript"}),m=new File([d],p,{type:"text/javascript"}),g=new File(['\n<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="ie=edge">\n<title>Document</title>\n<script src="'.concat(URL.createObjectURL(b),'"><\/script>\n</head>\n<body>\n<div id="root"></div>\n<script src="').concat(URL.createObjectURL(m),'"><\/script>\n</body>\n</html>')],v.Uri.file("/index.html").toString(!0),{type:"text/html"}),k=URL.createObjectURL(g),(w=document.createElement("iframe")).style.display="none",w.src=k,r.current&&r.current.appendChild(w),e.prev=26,e.next=29,new Promise((function(e,t){w.onload=function(){return e()},w.onerror=t}));case 29:n.current&&n.current.remove(),w.style.display="",n.current=w,e.next=38;break;case 34:throw e.prev=34,e.t0=e.catch(26),w.remove(),e.t0;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e.catch(5),e.t1&&"CanceledError"!==e.t1.name&&h((function(t){return[].concat(Object(U.a)(t),[{lines:[{isInternal:!1,text:e.t1.message}]}])}));case 43:return e.prev=43,c&&(c.cancel(),c.dispose()),s=!1,y({completed:0,total:0}),e.finish(43);case 48:case"end":return e.stop()}}),e,null,[[5,40,43,48],[26,34]])})));return function(t){return e.apply(this,arguments)}}();e.add(a);var p=!0,d=!1,m=void 0;try{for(var g,k=function(){var t=g.value;e.add(t.onDidChangeContent((function(){s([t.uri.toString(!0)])})))},w=v.editor.getModels()[Symbol.iterator]();!(p=(g=w.next()).done);p=!0)k()}catch(x){d=!0,m=x}finally{try{p||null==w.return||w.return()}finally{if(d)throw m}}return e.add(v.editor.onDidCreateModel((function(t){s([t.uri.toString(!0)]),e.add(t.onDidChangeContent((function(){s([t.uri.toString(!0)])})))}))),e.add(v.editor.onWillDisposeModel((function(e){s([e.uri.toString(!0)])}))),e.add(function(){var e=function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("message event",t.data),!t.data||"error"!==t.data.type||!t.data.payload){e.next=19;break}if(r=new Map,n=function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.startsWith("blob:")){e.next=6;break}return e.next=3,fetch(t).then((function(e){return e.text()}));case 3:r=e.sent,e.next=18;break;case 6:if(!t.startsWith("data:")){e.next=14;break}if(n=t.match(/^data:[^;]+;(?:charset=([^;]+);)?(?:(base64),)?(.*)$/)){e.next=10;break}throw new Error("Unexpected data URI: '".concat(t,"'"));case 10:r=n[3],"base64"===n[2].toLowerCase()&&(r=Oe.decode(r)),e.next=18;break;case 14:return e.next=16,i.bundler.resolver.host.readFileContent(i.bundler.resolver,new URL(t));case 16:a=e.sent,r=i.bundler.resolver.decoder.decode(a);case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=Object(f.a)(l.a.mark((function e(t){var a,o,i,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.has(t)){e.next=2;break}return e.abrupt("return",r.get(t));case 2:return e.next=4,n(t);case 4:if(a=e.sent,o=W(a),i=void 0,!o){e.next=13;break}return e.next=10,n(o);case 10:c=e.sent,(i=JSON.parse(c)).mappings&&(i.mappings=Object(Ze.a)(i.mappings));case 13:return s={code:a,sourceMap:i},r.set(t,s),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=[],!Array.isArray(t.data.payload.frames)){e.next=18;break}return e.prev=7,e.next=10,Promise.all(t.data.payload.frames.map(function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n,o,i,c,s,u,f,p,h,d,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new rt(t),n=r.getFileName(),o=r.getLineNumber(),i=r.getColumnNumber(),!(n&&o&&Number.isInteger(o)&&i&&Number.isInteger(i))){e.next=30;break}return e.next=7,a(n);case 7:if((c=e.sent).sourceMap){e.next=10;break}return e.abrupt("return",r.with({isInternal:!0}));case 10:if((s=c.sourceMap.mappings[o-1])&&s.length){e.next=13;break}return e.abrupt("return",r.with({isInternal:!0}));case 13:u=s[0],f=1;case 15:if(!(f<s.length)){e.next=23;break}if(!(s[f][0]>i)){e.next=19;break}return e.abrupt("break",23);case 19:u=s[f];case 20:f++,e.next=15;break;case 23:if(p=u[1],h=void 0!==p?c.sourceMap.sources[p]:void 0,d=u[2],v=u[3],void 0!==d&&void 0!==h){e.next=29;break}return e.abrupt("return",r.with({isInternal:!0}));case 29:return e.abrupt("return",r.with({isInternal:!1,columnNumber:v,lineNumber:d+1,fileName:h.replace(/^file:\/\/\//,"")}));case 30:return e.abrupt("return",r);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:o=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.warn({err:e.t0,trace:t.data.payload.frames},"Error resolving source locations for stack trace");case 16:console.log("frames",o),console.log("stack",o.map((function(e){return e.toString()})).join("\n"));case 18:h((function(e){return[].concat(Object(U.a)(e),[{lines:rt.prepareStackTrace(t.data.payload,o)}])}));case 19:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}();return window.addEventListener("message",e),{dispose:function(){window.removeEventListener("message",e)}}}()),s([]),function(){return e.dispose()}}),[i.bundler,t]),o.a.createElement(ot,{className:e.className},o.a.createElement(nt,{completed:g.completed,total:g.total}),n.current?null:"Building the preview...",o.a.createElement(at,{ref:r}),o.a.createElement(st,null,p.map((function(e,t){return o.a.createElement(lt,{key:t,message:e})}))))},pt=Object(n.a)(ft,{target:"e1xm0g1r6"})("");function ht(){window.onerror=function(e,t,r,n,a){a instanceof Error||(a=Object.assign(new Error(String(a)||"Unknown error"),{name:"UnknownError"}));var o=void 0;try{o=Velcro.runtime.require("error-stack-parser").parse(a).map((function(e){return{columnNumber:e.getColumnNumber(),functionName:e.getFunctionName(),fileName:e.getFileName(),isConstructor:e.getIsConstructor(),isEval:e.getIsEval(),isNative:e.getIsNative(),isToplevel:e.getIsToplevel(),lineNumber:e.getLineNumber()}}))}catch(h){}var i={frames:o,url:t,lineNo:r,columnNo:n,name:a.name},c=!0,s=!1,u=void 0;try{for(var l,f=Object.getOwnPropertyNames(a)[Symbol.iterator]();!(c=(l=f.next()).done);c=!0){var p=l.value;i[p]=a[p]}}catch(a){s=!0,u=a}finally{try{c||null==f.return||f.return()}finally{if(s)throw u}}window.parent.postMessage({type:"error",payload:i},"*")}}!function(e){e.Directory="directory",e.File="file"}(tt||(tt={}));var dt=Object(n.a)("div",{target:"e12197ge0"})("background-color:",(function(e){return e.modelFocused?"#008cba":"inherit"}),";text-decoration:none;color:",(function(e){return e.modelFocused?"#fff":"#262626"}),";height:25px;padding:0 0 0 8px;display:flex;flex-direction:row;align-items:center;& > span{flex:1;}& > button{display:none;}&:hover > button{display:block;}",(function(e){return e.modelFocused?{":hover":{color:"#f5f5f5",cursor:"pointer"}}:{":hover":{backgroundColor:"#eee",color:"#262626",cursor:"pointer"}}}),""),vt=Object(n.a)("div",{target:"e12197ge1"})({name:"17pjlpu",styles:"text-decoration:none;color:'#262626';height:25px;padding:0 0 0 8px;display:flex;align-items:center;:hover{background-color:#eee;cursor:pointer;}"}),bt=Object(n.a)("button",{target:"e12197ge2"})({name:"1hmcz8f",styles:"border:none;background:none;"}),mt=function(e){var t=e.className,r=e.model,n=function(){var e=Object(a.useContext)(Xe),t=Object(a.useState)(e.editor?e.editor.getModel():null),r=Object(s.a)(t,2),n=r[0],o=r[1];return Object(a.useEffect)((function(){var t=new b.c,r=function(e){e.onDidChangeModel((function(e){var t=e.newModelUrl?v.editor.getModel(e.newModelUrl):null;o(t)})),t.add(e.onDidBlurEditorText((function(){o(null)}))),t.add(e.onDidFocusEditorText((function(){o(e.getModel())}))),e.hasTextFocus()&&o(e.getModel())};return t.add(v.editor.onDidCreateEditor(r)),e.editor&&r(e.editor),function(){return t.dispose()}}),[e.editor,n]),n}(),i=Object(a.useContext)(Xe);return o.a.createElement(dt,{className:t,modelFocused:r===n},o.a.createElement("span",{onClick:function(){return i.focusModel(r)}},r.uri.fsPath.slice(1)),o.a.createElement(bt,{onClick:function(){r.dispose()}},"\u274c"))},gt=function(e){var t=function(e){var t=e.toString(!0).replace(/\/?$/,"/"),r=function(e){return Object(U.a)(e).sort((function(e,t){return e.uri.fsPath>t.uri.fsPath?1:-1}))},n=r(v.editor.getModels().reduce((function(e,r){var n=r.uri.toString(!0);if(n.startsWith(t)){var a=n.slice(t.length),o=a.indexOf("/");if(0===o)throw new Error("Invariant error: WAT?");if(o>0){var i=v.Uri.parse("".concat(t).concat(a.slice(0,o+1)));e.push({type:tt.Directory,uri:i})}else e.push({type:tt.File,uri:r.uri,model:r})}return e}),[])),o=Object(a.useState)(n),i=Object(s.a)(o,2),c=i[0],u=i[1];return Object(a.useEffect)((function(){var t=new b.c,n=e.toString(!0).replace(/\/?$/,"/");return t.add(v.editor.onDidCreateModel((function(e){var t=e.uri.toString(!0);if(t.startsWith(n)){var a=t.slice(n.length),o=a.indexOf("/");if(0===o)throw new Error("Invariant error: WAT?");if(o>0){var i=v.Uri.parse("".concat(n).concat(a.slice(0,o))),s=c.find((function(e){return e.uri.toString(!0)===i.toString(!0)}));if(s){if(s.type!==tt.Directory)throw new Error("Invariant violation: A file in '".concat(n,"' conflicts with the path of the new file '").concat(t,"'"));return}return c.push({type:tt.Directory,uri:i}),u(r(c))}c.find((function(t){return t.type===tt.File&&t.uri.toString(!0)===e.uri.toString(!0)}))||(c.push({type:tt.File,uri:e.uri,model:e}),u(r(c)))}}))),t.add(v.editor.onWillDisposeModel((function(e){var t=c.findIndex((function(t){return t.type===tt.File&&t.model===e}));if(-1===t)throw new Error("Invariant violation: Removing an untracked model: '".concat(e.uri.fsPath,"'"));c.splice(t,1),u(r(c))}))),function(){return t.dispose()}}),[c,e]),c}(Object(a.useRef)(v.Uri.file("/")).current),r=Object(a.useContext)(Xe);return o.a.createElement("div",{className:e.className},t.map((function(e){return e.type===tt.Directory?o.a.createElement("div",null,e.uri.fsPath.slice(1)):o.a.createElement(mt,{key:e.uri.toString(!0),model:e.model})})),o.a.createElement(vt,{onClick:function(){return function(){var e=prompt("Filename?");e&&r.createModel(e)}()}},"Create..."))},yt=Object(n.a)(gt,{target:"e12197ge3"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),kt=function(e){var t=e.className,r=e.initialPath,n=e.project,a=new Ge({files:n,initialPath:r});return o.a.createElement("div",{className:t},o.a.createElement(Xe.Provider,{value:a},o.a.createElement(yt,null),o.a.createElement(Qe,null),o.a.createElement(pt,null)))},wt=Object(n.a)(kt,{target:"e1et21ql0"})("display:flex;flex-direction:row;font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.4;color:#222;",yt,"{flex:1 1 200px;min-width:150px;max-width:400px;border-right:1px solid #ccc;}",Qe,"{border-right:1px solid #ccc;}",Qe,",",pt,"{flex:10;}");Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xt={"package.json":JSON.stringify({dependencies:{"@emotion/styled":"^10.0.17",react:"^16.9.0","react-dom":"^16.9.0"}},null,2)+"\n","index.jsx":"\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from '@emotion/styled';\n\nimport { name } from './name';\n\nconst Red = styled.div`\n  color: green;\n`;\n\nclass Hello extends Component {\n  render() {\n    return <Red>Hello {this.props.toWhat}</Red>;\n  }\n}\n\nReactDOM.render(\n  <Hello toWhat={ name } />,\n  document.getElementById('root')\n);\n      ".trim()+"\n","name.js":"\nexport const name = 'World';\n\nthrow new Error('Test');\n    ".trim()+"\n"},jt=Object(n.a)("div",{target:"e17ry5lw0"})("position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#333;",wt,"{flex:0 0 80vh;width:80vw;background:white;box-shadow:0 19px 38px rgba(0,0,0,0.3),0 15px 12px rgba(0,0,0,0.22);max-height:90vh;}");c.a.render(o.a.createElement(jt,null,o.a.createElement(wt,{initialPath:"index.jsx",project:xt})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return T})),r.d(t,"d",(function(){return F})),r.d(t,"e",(function(){return n})),r.d(t,"f",(function(){return L})),r.d(t,"g",(function(){return A}));var n,a=r(122),o=r(25),i=r.n(o),c=r(61),s=r(35),u=r(39),l=r(27),f=r(112),p=r(38),h=r(113),d=r(14),v=r(19),b=r(93);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t){return void 0!==e[t]&&"string"!==typeof e[t]}function k(e,t){return void 0!==e[t]&&"object"===typeof e[t]&&null!==e[t]&&!Object.keys(e[t]).every((function(r){return"string"===typeof r&&"string"===typeof e[t][r]}))}r.d(t,"b",(function(){return b.a})),r.d(t,"c",(function(){return b.b})),function(e){e.Directory="directory",e.File="file"}(n||(n={}));var w=46,x=47,j=/\/?$/;function O(e){return e.replace(j,"/")}function E(e,t,r){try{return function(e,t){var r;try{r=JSON.parse(e)}catch(n){throw new Error("Error parsing manifest as json for package ".concat(t,": ").concat(n.message))}if(!function(e){return"object"===typeof e&&null!==e&&!y(e,"name")&&!y(e,"version")&&!function(e){var t="",r=e.browser;if(r&&"object"===typeof r)for(var n in r){if("string"!==typeof n){t="The key ".concat(n," of .browser must be a string");break}if("string"!==typeof r[n]&&!1!==r[n]){t="The value ".concat(n," of .browser must be a string or false");break}}return t}(e)&&!y(e,"main")&&!y(e,"module")&&!y(e,"jsnext:main")&&!y(e,"unpkg")&&!k(e,"dependencies")&&!k(e,"devDependencies")&&!k(e,"peerDependencies")}(r))throw new Error("Invalid manifest for the package ".concat(t));return r}(e.decode(t),r)}catch(n){throw new Error("Error decoding manifest buffer for package ".concat(r,": ").concat(n.message))}}function S(e,t){for(var r=e.pathname,n=t.pathname,a="/"===n.charAt(n.length-1)?-1:0,o=0;o<=r.length;o++)if(o<n.length){if(r.charAt(o)!==n.charAt(o))throw new Error("The child entry ".concat(e.href," does not have the pathname of ").concat(t.href," as a prefix"))}else if(o===n.length+a){if("/"!==r.charAt(o))throw new Error("The child entry ".concat(e.href," does not have the pathname of ").concat(t.href," as a prefix"))}else if("/"===r.charAt(o))return r.slice(n.length+1+a,o);return r.slice(n.length+1+a)}function C(e,t){if("string"!==typeof e)throw new TypeError("The '".concat(t,"' argument must be of type string but got ").concat(typeof e))}function R(e,t){void 0!==t&&C(t,"ext"),C(e,"path");var r,n=0,a=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var i=t.length-1,c=-1;for(r=e.length-1;r>=n;--r){var s=e.charCodeAt(r);if(P(s)){if(!o){n=r+1;break}}else-1===c&&(o=!1,c=r+1),i>=0&&(s===t.charCodeAt(i)?-1===--i&&(a=r):(i=-1,a=c))}return n===a?a=c:-1===a&&(a=e.length),e.slice(n,a)}for(r=e.length-1;r>=n;--r)if(P(e.charCodeAt(r))){if(!o){n=r+1;break}}else-1===a&&(o=!1,a=r+1);return-1===a?"":e.slice(n,a)}function U(e){C(e,"path");for(var t=-1,r=0,n=-1,a=!0,o=0,i=e.length-1;i>=0;--i){var c=e.charCodeAt(i);if(P(c)){if(!a){r=i+1;break}}else-1===n&&(a=!1,n=i+1),c===w?-1===t?t=i:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)}function M(e){C(e,"path");var t=e.length;if(0===t)return".";var r=-1,n=-1,a=!0,o=0,i=e.charCodeAt(0);if(t>1){if(P(i)&&(r=o=1,P(e.charCodeAt(1)))){for(var c=2,s=c;c<t&&!P(e.charCodeAt(c));++c);if(c<t&&c!==s){for(s=c;c<t&&P(e.charCodeAt(c));++c);if(c<t&&c!==s){for(s=c;c<t&&!P(e.charCodeAt(c));++c);if(c===t)return e;c!==s&&(r=o=c+1)}}}}else if(P(i))return e;for(var u=t-1;u>=o;--u)if(P(e.charCodeAt(u))){if(!a){n=u;break}}else a=!1;if(-1===n){if(-1===r)return".";n=r}return e.slice(0,n)}function D(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=void 0;if(!(r>=0))break;C(n=r<0||arguments.length<=r?void 0:arguments[r],"path"),0!==n.length&&(e=n+"/"+e,t=n.charCodeAt(0)===x)}return e=function(e,t,r,n){for(var a="",o=0,i=-1,c=0,s=-1,u=0;u<=e.length;++u){if(u<e.length)s=e.charCodeAt(u);else{if(n(s))break;s=x}if(n(s)){if(i===u-1||1===c);else if(i!==u-1&&2===c){if(a.length<2||2!==o||a.charCodeAt(a.length-1)!==w||a.charCodeAt(a.length-2)!==w){if(a.length>2){var l=a.lastIndexOf(r);-1===l?(a="",o=0):(a=a.slice(0,l),o=a.length-1-a.lastIndexOf(r)),i=u,c=0;continue}if(2===a.length||1===a.length){a="",o=0,i=u,c=0;continue}}t&&(a.length>0?a+="".concat(r,".."):a="..",o=2)}else a.length>0?a+=r+e.slice(i+1,u):a=e.slice(i+1,u),o=u-i-1;i=u,c=0}else s===w&&-1!==c?++c:c=-1}return a}(e,!t,"/",P),t?e.length>0?"/"+e:"/":e.length>0?e:"."}function P(e){return e===x}var A=Object.freeze({__proto__:null,ensureTrailingSlash:O,parseBufferAsPackageJson:E,getFirstPathSegmentAfterPrefix:S,basename:R,extname:U,dirname:M,join:function(e){for(var t=e,r=0;r<(arguments.length<=1?0:arguments.length-1);r++){var n=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];n.startsWith("/")&&(n=n.slice(1)),t.endsWith("/")?t+=n:t+="/".concat(n)}return t},resolve:D}),N=function(){function t(){Object(d.a)(this,t),"undefined"!==typeof TextDecoder&&(this.decoder=new TextDecoder)}return Object(v.a)(t,[{key:"decode",value:function(t){var r=this.decoder?this.decoder.decode(t):e.from(t).toString("utf-8");return 65279===r.charCodeAt(0)?r.slice(1):r}}]),t}(),F=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(u.a)(this,Object(l.a)(t).call(this,"Not found ".concat(e.href)))).url=e,r}return Object(p.a)(t,e),t}(function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(u.a)(this,Object(l.a)(t).call(this,e))).name=r.constructor.name,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(Object(f.a)(r),r.constructor):r.stack=new Error(e).stack,r}return Object(p.a)(t,e),t}(Object(h.a)(Error))),T=function(){function e(){Object(d.a)(this,e)}return Object(v.a)(e,[{key:"getCanonicalUrl",value:function(e,t){return Promise.resolve(t)}}]),e}(),q=/\/?$/,L=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(d.a)(this,e),this.host=t,this.decoder=new N,this.extensions=Array.from(r.extensions||e.defaultExtensions),this.packageMain=r.packageMain||["main"]}return Object(v.a)(e,[{key:"resolve",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,a,o,s,u,l,f,p,h,d,v,m,g=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g.length>1&&void 0!==g[1]?g[1]:{},t instanceof URL){e.next=9;break}e.prev=2,t=new URL(t),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),new Error("Invalid URL: ".concat(t,": ").concat(e.t0.message));case 9:if((n=r.token)||(a=new b.b,n=a.token),o={extensions:r.extensions||this.extensions,ignoreBrowserOverrides:"undefined"!==typeof r.ignoreBrowserOverrides&&r.ignoreBrowserOverrides,packageMain:r.packageMain||this.packageMain,token:n},s=this.host.getCanonicalUrl?this.host.getCanonicalUrl(this,t,{token:n}):Promise.resolve(t),!n.isCancellationRequested){e.next=15;break}throw new b.a("Canceled");case 15:return e.next=17,Promise.all([s,this.host.getResolveRoot(this,t,{token:n})]);case 17:if(u=e.sent,l=Object(c.a)(u,2),f=l[0],p=l[1],!n.isCancellationRequested){e.next=23;break}throw new b.a("Canceled");case 23:if(h=p.href,d=h.replace(q,""),(v=f.href).startsWith(d)){e.next=28;break}throw new Error("Unable to resolve a module whose path ".concat(v," is above the host's root ").concat(h));case 28:if(d!==v&&h!=v){e.next=34;break}return e.next=31,this.resolveAsDirectory(f,o);case 31:e.t1=e.sent,e.next=37;break;case 34:return e.next=36,this.resolveAsFile(f,o);case 36:e.t1=e.sent;case 37:if(m=e.t1,!n.isCancellationRequested){e.next=40;break}throw new b.a("Canceled");case 40:return e.abrupt("return",{ignored:!1===m,resolvedUrl:m||void 0,rootUrl:p});case 41:case"end":return e.stop()}}),e,this,[[2,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resolveAsDirectory",value:function(){var e=Object(s.a)(i.a.mark((function e(t,r){var n,a,o,s,u,l,f,p,h,d,v,m,g,y,k,w;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.host.getResolveRoot(this,t,{token:r.token}),this.host.listEntries(this,t,{token:r.token})]);case 2:if(n=e.sent,a=Object(c.a)(n,2),o=a[0],s=a[1],!r.token.isCancellationRequested){e.next=8;break}throw new b.a("Canceled");case 8:if(u="index",!(l=s.find((function(e){return"package.json"===R(e.url.pathname)})))){e.next=45;break}return e.next=13,this.host.readFileContent(this,l.url,{token:r.token});case 13:if(f=e.sent,!r.token.isCancellationRequested){e.next=16;break}throw new b.a("Canceled");case 16:p=E(this.decoder,f,t.href),h=!0,d=!1,v=void 0,e.prev=20,m=this.packageMain[Symbol.iterator]();case 22:if(h=(g=m.next()).done){e.next=31;break}if(y=g.value,"string"!==typeof(k=p[y])){e.next=28;break}return u=k,e.abrupt("break",31);case 28:h=!0,e.next=22;break;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(20),d=!0,v=e.t0;case 37:e.prev=37,e.prev=38,h||null==m.return||m.return();case 40:if(e.prev=40,!d){e.next=43;break}throw v;case 43:return e.finish(40);case 44:return e.finish(37);case 45:return w=new URL(D(t.pathname,u),o),e.abrupt("return",this.resolveAsFile(w,r));case 47:case"end":return e.stop()}}),e,this,[[20,33,37,45],[38,,40,44]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"resolveAsFile",value:function(){var e=Object(s.a)(i.a.mark((function e(t,r){var a,o,c,s,u,l,f,p,h,d,v,m,y,k,w,x,j,E,C,U,P,A,N,T,q,L,I,J,B,W,H;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.pathname&&"/"!==t.pathname){e.next=2;break}throw new TypeError("Unable to resolve the root as a file: ".concat(t.href));case 2:return e.next=4,this.host.getResolveRoot(this,t,{token:r.token});case 4:if(a=e.sent,!r.token.isCancellationRequested){e.next=7;break}throw new b.a("Canceled");case 7:if(!this.packageMain.includes("browser")||r.ignoreBrowserOverrides){e.next=13;break}return e.next=10,this.readParentPackageJson(t,{token:r.token});case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=void 0;case 14:if(o=e.t0,!r.token.isCancellationRequested){e.next=17;break}throw new b.a("Canceled");case 17:if(c=new Map,!o||"object"!==typeof o.packageJson.browser){e.next=34;break}s=o.packageJson.browser,u=M(o.url.pathname),e.t1=i.a.keys(s);case 22:if((e.t2=e.t1()).done){e.next=34;break}if(l=e.t2.value,f=new URL(D(u,l),o.url),p=s[l],h=!1!==p&&new URL(D(u,p),o.url),f.href!==t.href){e.next=31;break}if(!1!==h){e.next=30;break}return e.abrupt("return",!1);case 30:return e.abrupt("return",this.resolveAsFile(h,g({},r,{ignoreBrowserOverrides:!0})));case 31:c.set(f.href,h),e.next=22;break;case 34:return d=new URL(O(M(t.pathname)),a),v=R(t.pathname),e.next=38,this.host.listEntries(this,d,{token:r.token});case 38:if(m=e.sent,!r.token.isCancellationRequested){e.next=41;break}throw new b.a("Canceled");case 41:y=new Map,k=new Map,w=!0,x=!1,j=void 0,e.prev=46,E=m[Symbol.iterator]();case 48:if(w=(C=E.next()).done){e.next=56;break}if((U=C.value).url.href!==t.href||U.type!=n.File){e.next=52;break}return e.abrupt("return",U.url);case 52:U.type===n.Directory?(P=S(U.url,d),y.set(P,U)):U.type===n.File&&(A=R(U.url.pathname),k.set(A,U));case 53:w=!0,e.next=48;break;case 56:e.next=62;break;case 58:e.prev=58,e.t3=e.catch(46),x=!0,j=e.t3;case 62:e.prev=62,e.prev=63,w||null==E.return||E.return();case 65:if(e.prev=65,!x){e.next=68;break}throw j;case 68:return e.finish(65);case 69:return e.finish(62);case 70:N=!0,T=!1,q=void 0,e.prev=73,L=r.extensions[Symbol.iterator]();case 75:if(N=(I=L.next()).done){e.next=92;break}if(J=I.value,!1!==(B=c.get("".concat(t.href).concat(J)))){e.next=82;break}return e.abrupt("return",!1);case 82:if(!B){e.next=84;break}return e.abrupt("return",this.resolveAsFile(B,g({},r,{ignoreBrowserOverrides:!0})));case 84:if(!(W=k.get("".concat(v).concat(J)))){e.next=89;break}if(W.type===n.File){e.next=88;break}return e.abrupt("continue",89);case 88:return e.abrupt("return",W.url);case 89:N=!0,e.next=75;break;case 92:e.next=98;break;case 94:e.prev=94,e.t4=e.catch(73),T=!0,q=e.t4;case 98:e.prev=98,e.prev=99,N||null==L.return||L.return();case 101:if(e.prev=101,!T){e.next=104;break}throw q;case 104:return e.finish(101);case 105:return e.finish(98);case 106:if(!(H=y.get(v))){e.next=111;break}if(H.type===n.Directory){e.next=110;break}throw new Error("Invariant violation ".concat(H.type," is unexpected"));case 110:return e.abrupt("return",this.resolveAsDirectory(H.url,r));case 111:throw new F(t);case 112:case"end":return e.stop()}}),e,this,[[46,58,62,70],[63,,65,69],[73,94,98,106],[99,,101,105]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"readParentPackageJson",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,a,o,c,u,l=this,f=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:{},e.next=3,this.host.getCanonicalUrl(this,t,{token:r.token});case 3:if(t=e.sent,!r.token||!r.token.isCancellationRequested){e.next=6;break}throw new b.a("Canceled");case 6:return e.next=8,this.host.getResolveRoot(this,t,{token:r.token});case 8:if(a=e.sent,!r.token||!r.token.isCancellationRequested){e.next=11;break}throw new b.a("Canceled");case 11:return o=O(a.href),c=new URL(O(M(t.pathname)),t),u=function(){var e=Object(s.a)(i.a.mark((function e(a){var c,s,f,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.href.startsWith(o)){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.next=4,l.host.listEntries(l,a,{token:r.token});case 4:if(c=e.sent,!r.token||!r.token.isCancellationRequested){e.next=7;break}throw new b.a("Canceled");case 7:if(!(s=c.find((function(e){return e.type===n.File&&e.url.pathname.endsWith("/package.json")})))){e.next=24;break}return e.prev=9,e.next=12,l.host.readFileContent(l,s.url,{token:r.token});case 12:if(f=e.sent,!r.token||!r.token.isCancellationRequested){e.next=15;break}throw new b.a("Canceled");case 15:return p=E(l.decoder,f,s.url.href),e.abrupt("return",{packageJson:p,url:s.url});case 19:if(e.prev=19,e.t0=e.catch(9),!(e.t0 instanceof b.a||e.t0&&"CanceledError"===e.t0.name)){e.next=23;break}throw e.t0;case 23:console.warn("Error reading the parent package manifest for ".concat(t.href," from ").concat(s.url.href,": ").concat(e.t0.message));case 24:if((h=new URL(O(M(a.pathname)),a)).href!==a.href){e.next=27;break}return e.abrupt("return",void 0);case 27:return e.abrupt("return",u(h));case 28:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",u(c));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();L.defaultExtensions=[".js",".jsx",".es6",".es",".mjs",".ts",".tsx",".json"],L.path={basename:R,dirname:M,extname:U,resolve:D}}).call(this,r(296).Buffer)}},[[307,2,3]]]);
//# sourceMappingURL=main.ef1a6451.chunk.js.map